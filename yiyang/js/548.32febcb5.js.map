{"version":3,"file":"js/548.32febcb5.js","mappings":"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","sources":["webpack://wannian/./src/views/JkView.vue","webpack://wannian/./src/views/JkView.vue?a989","webpack://wannian/./node_modules/vant/es/dialog/function-call.mjs"],"sourcesContent":["/* unplugin-vue-components disabled */import { Form as __unplugin_components_6 } from 'vant/es';import 'vant/es/form/style/index';\nimport { Button as __unplugin_components_5 } from 'vant/es';import 'vant/es/button/style/index';\nimport { CellGroup as __unplugin_components_4 } from 'vant/es';import 'vant/es/cell-group/style/index';\nimport { Area as __unplugin_components_3 } from 'vant/es';import 'vant/es/area/style/index';\nimport { Popup as __unplugin_components_2 } from 'vant/es';import 'vant/es/popup/style/index';\nimport { Picker as __unplugin_components_1 } from 'vant/es';import 'vant/es/picker/style/index';\nimport { Field as __unplugin_components_0 } from 'vant/es';import 'vant/es/field/style/index';\nimport \"core-js/modules/es.array.push.js\";\nimport { unref as _unref, resolveComponent as _resolveComponent, isRef as _isRef, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-314f84b4\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"jk\"\n};\nconst _hoisted_2 = {\n  style: {\n    \"margin\": \"16px\"\n  }\n};\nimport { areaList } from '@vant/area-data';\nimport { showConfirmDialog, showNotify, showToast, setNotifyDefaultOptions } from 'vant';\nexport default {\n  __name: 'JkView',\n  setup(__props) {\n    setNotifyDefaultOptions({\n      duration: 1000\n    });\n    const {\n      proxy\n    } = getCurrentInstance();\n    const router = useRouter();\n    const form = reactive({\n      name: '',\n      sfz: '',\n      sex: '',\n      szd: '',\n      xxdz: '',\n      lxdh: '',\n      mz: '',\n      gx: '',\n      jzk: '',\n      openId: localStorage.getItem('token')\n    });\n    const {\n      name,\n      sfz,\n      sex,\n      szd,\n      xxdz,\n      lxdh,\n      mz,\n      gx\n    } = toRefs(form);\n    const patterns = reactive({\n      sfz: /(^[1-9]\\d{5}(18|19|([23]\\d))\\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\\d{3}[0-9Xx]$)|(^[1-9]\\d{5}\\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\\d{2}$)/,\n      phone: /^1((34[0-8])|(8\\d{2})|(([35][0-35-9]|4[579]|66|7[35678]|9[1389])\\d{1}))\\d{7}$/\n    });\n    const sexobj = reactive({\n      sex: '',\n      showsex: false,\n      columns: [{\n        text: '女',\n        value: '0'\n      }, {\n        text: '男',\n        value: '1'\n      }],\n      onConfirm({\n        selectedOptions\n      }) {\n        sexobj.sex = selectedOptions[0]?.text;\n        sex.value = selectedOptions[0]?.value;\n        sexobj.showsex = false;\n      }\n    });\n    const szdobj = reactive({\n      showArea: false,\n      val: '361126',\n      onConfirm({\n        selectedOptions\n      }) {\n        szdobj.showArea = false;\n        szd.value = selectedOptions.map(i => i.text).join('/');\n      }\n    });\n    const mzobj = reactive({\n      showmz: false,\n      mzlist: ['汉族', '蒙古族', '回族', '藏族', '维吾尔族', '苗族', '彝族', '壮族', '布依族', '朝鲜族', '满族', '侗族', '瑶族', '白族', '土家族', '哈尼族', '哈萨克族', '傣族', '黎族', '僳僳族', '佤族', '畲族', '高山族', '拉祜族', '水族', '东乡族', '纳西族', '景颇族', '柯尔克孜族', '土族', '达斡尔族', '仫佬族', '羌族', '布朗族', '撒拉族', '毛南族', '仡佬族', '锡伯族', '阿昌族', '普米族', '塔吉克族', '怒族', '乌孜别克族', '俄罗斯族', '鄂温克族', '德昂族', '保安族', '裕固族', '京族', '塔塔尔族', '独龙族', '鄂伦春族', '赫哲族', '门巴族', '珞巴族', '基诺族'],\n      columns: computed(() => {\n        const data = reactive([]);\n        mzobj.mzlist.forEach(i => {\n          data.push({\n            text: i,\n            value: i\n          });\n        });\n        return data;\n      }),\n      onConfirm({\n        selectedOptions\n      }) {\n        mz.value = selectedOptions[0]?.text;\n        mzobj.showmz = false;\n      }\n    });\n    const gxobj = reactive({\n      showgx: false,\n      columns: [{\n        text: '本人',\n        value: '本人'\n      }, {\n        text: '家人',\n        value: '家人'\n      }, {\n        text: '朋友',\n        value: '朋友'\n      }],\n      onConfirm({\n        selectedOptions\n      }) {\n        gx.value = selectedOptions[0]?.text;\n        gxobj.showgx = false;\n      }\n    });\n    const isnull = obj => {\n      for (const k in obj) {\n        if (k !== 'jzk' && k !== 'brid' && (!obj[k] || obj[k] === 0)) {\n          return false;\n        }\n      }\n      return true;\n    };\n    const rej = message => {\n      proxy.$axios.post('/findRegist', form).then(d => {\n        if (d.code === 1) {\n          message && showToast({\n            type: 'primary',\n            message\n          });\n          router.go(-1);\n        }\n      });\n    };\n    const tool = {\n      getDate(sfz) {\n        return `${sfz?.slice(6, 10)}-${sfz?.slice(10, 12)}-${sfz?.slice(12, 14)}`;\n      },\n      getAge(csny) {\n        const date = new Date();\n        const cdate = new Date(csny);\n        let age = date.getFullYear() - cdate.getFullYear();\n        if (date.getMonth() < cdate.getMonth()) {\n          age--;\n        } else if (date.getMonth() === cdate.getMonth()) {\n          if (date.getDate() < cdate.getDate()) {\n            age--;\n          }\n        }\n        return age;\n      }\n    };\n    const btnFn = reactive({\n      zt: 0,\n      map: {\n        0: () => {\n          showNotify({\n            type: 'primary',\n            message: '请完善信息'\n          });\n        },\n        1: () => {\n          proxy.$axios.post('/showPatientId', {\n            sfzh: form.sfz\n          }).then(d => {\n            if (d.code === 1) {\n              showConfirmDialog({\n                message: `检测到您已经创建过就诊卡${d.data.mzkh}，是否直接绑定`\n              }).then(() => {\n                form.id = btnFn?.id;\n                form.jzk = d.data.mzkh;\n                form.brid = d.data.brid;\n                rej('就诊卡绑定成功');\n              }).catch(() => '');\n            } else {\n              form.appBirth = tool.getDate(form?.sfz);\n              form.appAge = tool.getAge(form?.appBirth);\n              proxy.$axios.post('/createCard', form).then(d => {\n                if (d.code === 1) {\n                  showToast('就诊卡创建绑定成功');\n                  router.go(-1);\n                }\n              });\n            }\n          });\n        }\n      },\n      fn() {\n        btnFn.map[btnFn.zt] && btnFn.map[btnFn.zt]();\n      }\n    });\n    watch(() => form.sfz, () => {\n      if (patterns.sfz.test(form.sfz) && form.sfz.length === 18) {\n        proxy.$axios.post('/showPatientInfo', {\n          openId: localStorage.getItem('token'),\n          sfzh: form.sfz\n        }).then(d => {\n          if (d.code === 1) {\n            for (const k in form) {\n              if (k === 'sex') {\n                sexobj.sex = +d.data?.sex === 0 ? '女' : '男';\n                sex.value = d.data?.sex;\n              } else {\n                d.data[k] && (form[k] = d.data[k]);\n              }\n            }\n            btnFn.id = d.data.id;\n          } else {\n            for (const k in form) {\n              if (k !== 'sfz') {\n                form[k] = '';\n              }\n            }\n            sexobj.sex = '';\n            btnFn.zt = 0;\n          }\n        });\n      }\n    });\n    watchEffect(() => {\n      if (isnull(form)) {\n        btnFn.zt = 1;\n      } else {\n        btnFn.zt = 0;\n      }\n    });\n    return (_ctx, _cache) => {\n      const _component_van_field = __unplugin_components_0;\n      const _component_van_picker = __unplugin_components_1;\n      const _component_van_popup = __unplugin_components_2;\n      const _component_van_area = __unplugin_components_3;\n      const _component_van_cell_group = __unplugin_components_4;\n      const _component_van_button = __unplugin_components_5;\n      const _component_van_form = __unplugin_components_6;\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_van_form, null, {\n        default: _withCtx(() => [_createVNode(_component_van_cell_group, {\n          inset: \"\",\n          class: \"bd\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_van_field, {\n            modelValue: _unref(sfz),\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _isRef(sfz) ? sfz.value = $event : null),\n            name: \"身份证\",\n            label: \"身份证\",\n            size: \"large\",\n            placeholder: \"请输入身份证号\",\n            rules: [{\n              pattern: _unref(patterns).sfz,\n              message: '请输入合法的身份证'\n            }]\n          }, null, 8, [\"modelValue\", \"rules\"]), _createVNode(_component_van_field, {\n            modelValue: _unref(name),\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _isRef(name) ? name.value = $event : null),\n            name: \"姓名\",\n            label: \"姓名\",\n            size: \"large\",\n            placeholder: \"请输入姓名\",\n            rules: [{\n              required: true,\n              message: '请输入姓名'\n            }]\n          }, null, 8, [\"modelValue\"]), _createVNode(_component_van_field, {\n            modelValue: _unref(sexobj).sex,\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _unref(sexobj).sex = $event),\n            \"is-link\": \"\",\n            readonly: \"\",\n            name: \"性别\",\n            label: \"性别\",\n            size: \"large\",\n            placeholder: \"请选择性别\",\n            onClick: _cache[3] || (_cache[3] = $event => _unref(sexobj).showsex = true)\n          }, null, 8, [\"modelValue\"]), _createVNode(_component_van_popup, {\n            show: _unref(sexobj).showsex,\n            \"onUpdate:show\": _cache[5] || (_cache[5] = $event => _unref(sexobj).showsex = $event),\n            position: \"bottom\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_van_picker, {\n              columns: _unref(sexobj).columns,\n              onConfirm: _unref(sexobj).onConfirm,\n              onCancel: _cache[4] || (_cache[4] = $event => _unref(sexobj).showsex = false)\n            }, null, 8, [\"columns\", \"onConfirm\"])]),\n            _: 1\n          }, 8, [\"show\"]), _createVNode(_component_van_field, {\n            modelValue: _unref(szd),\n            \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => _isRef(szd) ? szd.value = $event : null),\n            \"is-link\": \"\",\n            readonly: \"\",\n            size: \"large\",\n            name: \"所在地\",\n            label: \"所在地\",\n            placeholder: \"请选择选择所在地区\",\n            onClick: _cache[7] || (_cache[7] = $event => _unref(szdobj).showArea = true)\n          }, null, 8, [\"modelValue\"]), _createVNode(_component_van_popup, {\n            show: _unref(szdobj).showArea,\n            \"onUpdate:show\": _cache[10] || (_cache[10] = $event => _unref(szdobj).showArea = $event),\n            position: \"bottom\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_van_area, {\n              modelValue: _unref(szdobj).val,\n              \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => _unref(szdobj).val = $event),\n              \"area-list\": _unref(areaList),\n              onConfirm: _unref(szdobj).onConfirm,\n              onCancel: _cache[9] || (_cache[9] = $event => _unref(szdobj).showArea = false)\n            }, null, 8, [\"modelValue\", \"area-list\", \"onConfirm\"])]),\n            _: 1\n          }, 8, [\"show\"]), _createVNode(_component_van_field, {\n            modelValue: _unref(xxdz),\n            \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => _isRef(xxdz) ? xxdz.value = $event : null),\n            name: \"详细地址\",\n            label: \"详细地址\",\n            size: \"large\",\n            placeholder: \"请输入详细地址\",\n            rules: [{\n              required: true,\n              message: '请填写详细地址'\n            }]\n          }, null, 8, [\"modelValue\"]), _createVNode(_component_van_field, {\n            modelValue: _unref(lxdh),\n            \"onUpdate:modelValue\": _cache[12] || (_cache[12] = $event => _isRef(lxdh) ? lxdh.value = $event : null),\n            name: \"联系电话\",\n            label: \"联系电话\",\n            size: \"large\",\n            placeholder: \"请输入联系电话\",\n            rules: [{\n              pattern: _unref(patterns).phone,\n              message: '请输入正确的手机号'\n            }]\n          }, null, 8, [\"modelValue\", \"rules\"]), _createVNode(_component_van_field, {\n            modelValue: _unref(mz),\n            \"onUpdate:modelValue\": _cache[13] || (_cache[13] = $event => _isRef(mz) ? mz.value = $event : null),\n            \"is-link\": \"\",\n            readonly: \"\",\n            name: \"民族\",\n            label: \"民族\",\n            size: \"large\",\n            placeholder: \"请选择民族\",\n            onClick: _cache[14] || (_cache[14] = $event => _unref(mzobj).showmz = true)\n          }, null, 8, [\"modelValue\"]), _createVNode(_component_van_popup, {\n            show: _unref(mzobj).showmz,\n            \"onUpdate:show\": _cache[16] || (_cache[16] = $event => _unref(mzobj).showmz = $event),\n            position: \"bottom\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_van_picker, {\n              columns: _unref(mzobj).columns,\n              onConfirm: _unref(mzobj).onConfirm,\n              onCancel: _cache[15] || (_cache[15] = $event => _unref(mzobj).showmz = false)\n            }, null, 8, [\"columns\", \"onConfirm\"])]),\n            _: 1\n          }, 8, [\"show\"]), _createVNode(_component_van_field, {\n            modelValue: _unref(gx),\n            \"onUpdate:modelValue\": _cache[17] || (_cache[17] = $event => _isRef(gx) ? gx.value = $event : null),\n            \"is-link\": \"\",\n            readonly: \"\",\n            name: \"关系\",\n            label: \"和本人关系\",\n            size: \"large\",\n            placeholder: \"请选择关系\",\n            onClick: _cache[18] || (_cache[18] = $event => _unref(gxobj).showgx = true)\n          }, null, 8, [\"modelValue\"]), _createVNode(_component_van_popup, {\n            show: _unref(gxobj).showgx,\n            \"onUpdate:show\": _cache[20] || (_cache[20] = $event => _unref(gxobj).showgx = $event),\n            position: \"bottom\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_van_picker, {\n              columns: _unref(gxobj).columns,\n              onConfirm: _unref(gxobj).onConfirm,\n              onCancel: _cache[19] || (_cache[19] = $event => _unref(gxobj).showgx = false)\n            }, null, 8, [\"columns\", \"onConfirm\"])]),\n            _: 1\n          }, 8, [\"show\"])]),\n          _: 1\n        }), _createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_van_button, {\n          round: \"\",\n          block: \"\",\n          type: \"primary\",\n          onClick: _unref(btnFn).fn\n        }, {\n          default: _withCtx(() => [_createTextVNode(\" 创建就诊卡 \")]),\n          _: 1\n        }, 8, [\"onClick\"])])]),\n        _: 1\n      })]);\n    };\n  }\n};","/* unplugin-vue-components disabled */import script from \"./JkView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./JkView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./JkView.vue?vue&type=style&index=0&id=314f84b4&lang=stylus&scoped=true\"\n\nimport exportComponent from \"D:\\\\xampp\\\\htdocs\\\\web\\\\junwei\\\\yiyang\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-314f84b4\"]])\n\nexport default __exports__","import { createVNode as _createVNode, mergeProps as _mergeProps } from \"vue\";\nimport { extend, inBrowser } from \"../utils/index.mjs\";\nimport { mountComponent, usePopupState } from \"../utils/mount-component.mjs\";\nimport Dialog from \"./Dialog.mjs\";\nlet instance;\nconst DEFAULT_OPTIONS = {\n  title: \"\",\n  width: \"\",\n  theme: null,\n  message: \"\",\n  overlay: true,\n  callback: null,\n  teleport: \"body\",\n  className: \"\",\n  allowHtml: false,\n  lockScroll: true,\n  transition: void 0,\n  beforeClose: null,\n  overlayClass: \"\",\n  overlayStyle: void 0,\n  messageAlign: \"\",\n  cancelButtonText: \"\",\n  cancelButtonColor: null,\n  cancelButtonDisabled: false,\n  confirmButtonText: \"\",\n  confirmButtonColor: null,\n  confirmButtonDisabled: false,\n  showConfirmButton: true,\n  showCancelButton: false,\n  closeOnPopstate: true,\n  closeOnClickOverlay: false\n};\nlet currentOptions = extend({}, DEFAULT_OPTIONS);\nfunction initInstance() {\n  const Wrapper = {\n    setup() {\n      const {\n        state,\n        toggle\n      } = usePopupState();\n      return () => _createVNode(Dialog, _mergeProps(state, {\n        \"onUpdate:show\": toggle\n      }), null);\n    }\n  };\n  ({\n    instance\n  } = mountComponent(Wrapper));\n}\nfunction showDialog(options) {\n  if (!inBrowser) {\n    return Promise.resolve();\n  }\n  return new Promise((resolve, reject) => {\n    if (!instance) {\n      initInstance();\n    }\n    instance.open(extend({}, currentOptions, options, {\n      callback: (action) => {\n        (action === \"confirm\" ? resolve : reject)(action);\n      }\n    }));\n  });\n}\nconst setDialogDefaultOptions = (options) => {\n  extend(currentOptions, options);\n};\nconst resetDialogDefaultOptions = () => {\n  currentOptions = extend({}, DEFAULT_OPTIONS);\n};\nconst showConfirmDialog = (options) => showDialog(extend({\n  showCancelButton: true\n}, options));\nconst closeDialog = () => {\n  if (instance) {\n    instance.toggle(false);\n  }\n};\nexport {\n  closeDialog,\n  resetDialogDefaultOptions,\n  setDialogDefaultOptions,\n  showConfirmDialog,\n  showDialog\n};\n"],"names":["_hoisted_1","class","_hoisted_2","style","__name","setup","__props","duration","proxy","router","form","name","sfz","sex","szd","xxdz","lxdh","mz","gx","jzk","openId","localStorage","getItem","patterns","phone","sexobj","showsex","columns","text","value","onConfirm","selectedOptions","szdobj","showArea","val","map","i","join","mzobj","showmz","mzlist","data","forEach","push","gxobj","showgx","isnull","obj","k","rej","message","$axios","post","then","d","code","type","go","tool","getDate","slice","getAge","csny","date","Date","cdate","age","getFullYear","getMonth","btnFn","zt","sfzh","mzkh","id","brid","catch","appBirth","appAge","fn","test","length","_ctx","_cache","_component_van_field","_component_van_picker","_component_van_popup","_component_van_area","_component_van_cell_group","_component_van_button","_component_van_form","default","inset","modelValue","$event","label","size","placeholder","rules","pattern","required","readonly","onClick","show","position","onCancel","_","round","block","__exports__","instance","DEFAULT_OPTIONS","title","width","theme","overlay","callback","teleport","className","allowHtml","lockScroll","transition","beforeClose","overlayClass","overlayStyle","messageAlign","cancelButtonText","cancelButtonColor","cancelButtonDisabled","confirmButtonText","confirmButtonColor","confirmButtonDisabled","showConfirmButton","showCancelButton","closeOnPopstate","closeOnClickOverlay","currentOptions","extend","initInstance","Wrapper","state","toggle","usePopupState","_createVNode","Dialog","_mergeProps","mountComponent","showDialog","options","inBrowser","Promise","resolve","reject","open","action","showConfirmDialog","closeDialog"],"sourceRoot":""}