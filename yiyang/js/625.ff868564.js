"use strict";(self["webpackChunkwannian"]=self["webpackChunkwannian"]||[]).push([[625],{5157:function(e,l,o){o.r(l),o.d(l,{default:function(){return g}});var a=o(3396),n=o(4870),s=o(2483),u=o(6944),m=(o(3277),o(9545)),d=(o(51),o(5331)),t=(o(9041),o(2715)),r=(o(3156),o(3005)),i=(o(5708),o(9264)),p=(o(2196),o(3548)),U=(o(7603),o(7658),o(7139)),c=o(6811),h=o(776),w=o(868);const x={class:"rej"},S={style:{margin:"16px"}};var f={__name:"RejView",setup(e){(0,h.di)({duration:1e3});const{proxy:l}=(0,a.FN)(),o=(0,s.yj)(),f=(0,s.tv)(),v=o.query.type,z=o.query.data&&JSON.parse(o.query.data),g=(0,n.qj)({name:"",sfz:"",sex:"",szd:"",xxdz:"",lxdh:"",mz:"",gx:"",jzk:"",openId:localStorage.getItem("token")}),{name:V,sfz:C,sex:b,szd:q,xxdz:y,lxdh:W,mz:k,gx:j,jzk:_}=(0,n.BK)(g),N=(0,n.qj)({sfz:/(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$)|(^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2}$)/,phone:/^1((34[0-8])|(8\d{2})|(([35][0-35-9]|4[579]|66|7[35678]|9[1389])\d{1}))\d{7}$/}),A=(0,n.qj)({sex:"",showsex:!1,columns:[{text:"女",value:"0"},{text:"男",value:"1"}],onConfirm({selectedOptions:e}){A.sex=e[0]?.text,b.value=e[0]?.value,A.showsex=!1}});if(z)for(const a in g)"sex"===a?(A.sex=0===z.sex?"女":"男",b.value=z.sex):z[a]&&(g[a]=z[a]);const O=(0,n.qj)({showArea:!1,val:"361126",onConfirm({selectedOptions:e}){O.showArea=!1,q.value=e.map((e=>e.text)).join("/")}}),$=(0,n.qj)({showmz:!1,mzlist:["汉族","蒙古族","回族","藏族","维吾尔族","苗族","彝族","壮族","布依族","朝鲜族","满族","侗族","瑶族","白族","土家族","哈尼族","哈萨克族","傣族","黎族","僳僳族","佤族","畲族","高山族","拉祜族","水族","东乡族","纳西族","景颇族","柯尔克孜族","土族","达斡尔族","仫佬族","羌族","布朗族","撒拉族","毛南族","仡佬族","锡伯族","阿昌族","普米族","塔吉克族","怒族","乌孜别克族","俄罗斯族","鄂温克族","德昂族","保安族","裕固族","京族","塔塔尔族","独龙族","鄂伦春族","赫哲族","门巴族","珞巴族","基诺族"],columns:(0,a.Fl)((()=>{const e=(0,n.qj)([]);return $.mzlist.forEach((l=>{e.push({text:l,value:l})})),e})),onConfirm({selectedOptions:e}){k.value=e[0]?.text,$.showmz=!1}}),I=(0,n.qj)({showgx:!1,columns:[{text:"本人",value:"本人"},{text:"家人",value:"家人"},{text:"朋友",value:"朋友"}],onConfirm({selectedOptions:e}){j.value=e[0]?.text,I.showgx=!1}}),F=e=>{for(const l in e)if("jzk"!==l&&"brid"!==l&&(!e[l]||0===e[l]))return!1;return!0},R=()=>{if(F(g)){const e=e=>{l.$axios.post("/findRegist",g).then((l=>{1===l.code&&(e&&(0,w.CF)({type:"primary",message:e}),f.go(-1))}))};_.value?l.$axios.post("/bdjzr",{jzk:_.value,name:V.value}).then((l=>{1===l.code?(g.brid=l.data,"bq"===v&&(g.id=z.id),e("就诊卡绑定成功")):(0,h.NU)({type:"primary",message:l.msg})})):"bq"!==v?e("用户注册成功"):(0,h.NU)({type:"primary",message:"请完善信息"})}else(0,h.NU)({type:"primary",message:"请完善信息"})};return(e,l)=>{const o=p.gN,s=i.cW,h=r.GI,w=t.uN,f=d.TS,z=m.zx,g=u.l0;return(0,a.wg)(),(0,a.iD)("div",x,[(0,a.Wm)(g,{onSubmit:R},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{inset:"",class:"bd"},{default:(0,a.w5)((()=>[(0,a.Wm)(o,{modelValue:(0,n.SU)(V),"onUpdate:modelValue":l[0]||(l[0]=e=>(0,n.dq)(V)?V.value=e:null),name:"姓名",label:"姓名",size:"large",placeholder:"请输入姓名",rules:[{required:!0,message:"请输入姓名"}]},null,8,["modelValue"]),(0,a.Wm)(o,{modelValue:(0,n.SU)(C),"onUpdate:modelValue":l[1]||(l[1]=e=>(0,n.dq)(C)?C.value=e:null),name:"身份证",label:"身份证",size:"large",placeholder:"请输入身份证号",rules:[{pattern:(0,n.SU)(N).sfz,message:"请输入合法的身份证"}]},null,8,["modelValue","rules"]),(0,a.Wm)(o,{modelValue:(0,n.SU)(A).sex,"onUpdate:modelValue":l[2]||(l[2]=e=>(0,n.SU)(A).sex=e),"is-link":"",readonly:"",name:"性别",label:"性别",size:"large",placeholder:"请选择性别",onClick:l[3]||(l[3]=e=>(0,n.SU)(A).showsex=!0)},null,8,["modelValue"]),(0,a.Wm)(h,{show:(0,n.SU)(A).showsex,"onUpdate:show":l[5]||(l[5]=e=>(0,n.SU)(A).showsex=e),position:"bottom"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{columns:(0,n.SU)(A).columns,onConfirm:(0,n.SU)(A).onConfirm,onCancel:l[4]||(l[4]=e=>(0,n.SU)(A).showsex=!1)},null,8,["columns","onConfirm"])])),_:1},8,["show"]),(0,a.Wm)(o,{modelValue:(0,n.SU)(q),"onUpdate:modelValue":l[6]||(l[6]=e=>(0,n.dq)(q)?q.value=e:null),"is-link":"",readonly:"",size:"large",name:"所在地",label:"所在地",placeholder:"请选择选择所在地区",onClick:l[7]||(l[7]=e=>(0,n.SU)(O).showArea=!0)},null,8,["modelValue"]),(0,a.Wm)(h,{show:(0,n.SU)(O).showArea,"onUpdate:show":l[10]||(l[10]=e=>(0,n.SU)(O).showArea=e),position:"bottom"},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{modelValue:(0,n.SU)(O).val,"onUpdate:modelValue":l[8]||(l[8]=e=>(0,n.SU)(O).val=e),"area-list":(0,n.SU)(c.H),onConfirm:(0,n.SU)(O).onConfirm,onCancel:l[9]||(l[9]=e=>(0,n.SU)(O).showArea=!1)},null,8,["modelValue","area-list","onConfirm"])])),_:1},8,["show"]),(0,a.Wm)(o,{modelValue:(0,n.SU)(y),"onUpdate:modelValue":l[11]||(l[11]=e=>(0,n.dq)(y)?y.value=e:null),name:"详细地址",label:"详细地址",size:"large",placeholder:"请输入详细地址",rules:[{required:!0,message:"请填写详细地址"}]},null,8,["modelValue"]),(0,a.Wm)(o,{modelValue:(0,n.SU)(W),"onUpdate:modelValue":l[12]||(l[12]=e=>(0,n.dq)(W)?W.value=e:null),name:"联系电话",label:"联系电话",size:"large",placeholder:"请输入联系电话",rules:[{pattern:(0,n.SU)(N).phone,message:"请输入正确的手机号"}]},null,8,["modelValue","rules"]),(0,a.Wm)(o,{modelValue:(0,n.SU)(_),"onUpdate:modelValue":l[13]||(l[13]=e=>(0,n.dq)(_)?_.value=e:null),name:"就诊卡号",label:"就诊卡号",size:"large",placeholder:"请输入就诊卡卡号,自费咨询时需要,非必填",rules:[{required:!1}]},null,8,["modelValue"]),(0,a.Wm)(o,{modelValue:(0,n.SU)(k),"onUpdate:modelValue":l[14]||(l[14]=e=>(0,n.dq)(k)?k.value=e:null),"is-link":"",readonly:"",name:"民族",label:"民族",size:"large",placeholder:"请选择民族",onClick:l[15]||(l[15]=e=>(0,n.SU)($).showmz=!0)},null,8,["modelValue"]),(0,a.Wm)(h,{show:(0,n.SU)($).showmz,"onUpdate:show":l[17]||(l[17]=e=>(0,n.SU)($).showmz=e),position:"bottom"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{columns:(0,n.SU)($).columns,onConfirm:(0,n.SU)($).onConfirm,onCancel:l[16]||(l[16]=e=>(0,n.SU)($).showmz=!1)},null,8,["columns","onConfirm"])])),_:1},8,["show"]),(0,a.Wm)(o,{modelValue:(0,n.SU)(j),"onUpdate:modelValue":l[18]||(l[18]=e=>(0,n.dq)(j)?j.value=e:null),"is-link":"",readonly:"",name:"关系",label:"和本人关系",size:"large",placeholder:"请选择关系",onClick:l[19]||(l[19]=e=>(0,n.SU)(I).showgx=!0)},null,8,["modelValue"]),(0,a.Wm)(h,{show:(0,n.SU)(I).showgx,"onUpdate:show":l[21]||(l[21]=e=>(0,n.SU)(I).showgx=e),position:"bottom"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{columns:(0,n.SU)(I).columns,onConfirm:(0,n.SU)(I).onConfirm,onCancel:l[20]||(l[20]=e=>(0,n.SU)(I).showgx=!1)},null,8,["columns","onConfirm"])])),_:1},8,["show"])])),_:1}),(0,a._)("div",S,[(0,a.Wm)(z,{round:"",block:"",type:"primary","native-type":"submit"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,U.zw)("bq"===(0,n.SU)(v)?"补齐信息":"注册信息"),1)])),_:1})])])),_:1})])}}},v=o(89);const z=(0,v.Z)(f,[["__scopeId","data-v-8a7242b2"]]);var g=z}}]);
//# sourceMappingURL=625.ff868564.js.map